<!DOCTYPE html>
<html>
<head>
  <title>Employee Dashboard</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <h2>Employees per Department</h2>
  <canvas id="employeesChart" width="400" height="400"></canvas>

  <h2>Monthly Attendance Overview</h2>
  <canvas id="attendanceChart" width="400" height="400"></canvas>

  <script>
    const employeesChart = new Chart(document.getElementById('employeesChart'), {
      type: 'pie',
      data: {
        labels: {{ department_labels|safe }},
        datasets: [{
          label: 'Employees',
          data: {{ department_counts|safe }},
          backgroundColor: ['#4e79a7', '#f28e2b', '#e15759', '#76b7b2', '#59a14f']
        }]
      }
    });

    const attendanceChart = new Chart(document.getElementById('attendanceChart'), {
      type: 'bar',
      data: {
        labels: {{ month_labels|safe }},
        datasets: [{
          label: 'Attendance Records',
          data: {{ monthly_counts|safe }},
          backgroundColor: '#4e79a7'
        }]
      }
    });
  </script>
</body>
</html>
